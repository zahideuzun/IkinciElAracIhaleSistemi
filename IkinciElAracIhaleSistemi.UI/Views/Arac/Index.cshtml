@using IkinciElAracIhaleSistemi.Entities.VM.Arac
@model AracEklemeDetayVM

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
	List<AracBilgileriVM> aracListesi = ViewBag.Araclar;
	int sayac = 1;
}

@using (Html.BeginForm("Index", "Arac", FormMethod.Get))
{
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Kriterler</h4>

                <div class="table-responsive">
                    <table class="table">
                        <div class="form-group col-lg-3">
	                        @Html.LabelFor(a => a.Marka.MarkaId, "Marka")
	                        @Html.DropDownListFor(a => a.MarkaId, new SelectList(ViewBag.Markalar, "Value", "Text", new { @class = "form-control" }))
                        </div>
                        <div class="form-group col-lg-3">
	                        @Html.LabelFor(a => a.Model.ModelId, "Model")
	                        @Html.DropDownListFor(a => a.ModelId, new SelectList(ViewBag.Modeller, "Value", "Text", new { @class = "form-control" }))
                        </div>
                        <div class="form-group col-lg-3">
	                        @Html.LabelFor(a => a.AracTuruId, "Bireysel/Kurumsal")
	                        @Html.DropDownListFor(a => a.AracTuruId, new SelectList(ViewBag.AracTurleri, "Value", "Text", new { @class = "form-control" }))
                        </div>
                        <div class="form-group col-lg-3">
	                        @Html.LabelFor(a => a.StatuId, "Statü")
	                        @Html.DropDownListFor(a => a.StatuId, new SelectList(ViewBag.Statuler, "Value", "Text", new { @class = "form-control" }))
                        </div>
                    </table>
                    <a href="/Arac/Index" class="btn btn-outline-info">Listele</a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Araç Listesi</h4>
	            <a href="/Arac/AracEkle/" class="btn btn-outline-info float-md-right">Yeni Araç Ekle</a>
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Plaka</th>
                                <th>Marka</th>
                                <th>Model</th>
                                <th>Bireysel/Kurumsal</th>
                                <th>Statü</th>
                                <th>Kaydeden Kullanıcı</th>
                                <th>Kaydetme Zamanı</th>
                                <th>Sil</th>
                                <th>Güncelle</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in (List<AracBilgileriVM>)ViewBag.Araclar)
                            {
	                            <tr>
		                            <td>@sayac</td>
		                            <td>@item.Plaka</td>
		                            <td>@item.MarkaAdi</td>
		                            <td>@item.ModelAdi</td>
		                            <td>@item.BireyselMi</td>
		                            <td>@item.Statu</td>
		                            <td>@item.KaydedenKullanici</td>
		                            <td>@item.KaydedilmeZamani</td>
		                            <td><a href="/Kullanici/KullaniciSil/@item.AracId" class="btn btn-outline-danger">Sil</a></td>
		                            <td><a href="/Kullanici/KullaniciGuncelle/@item.AracId" class="btn btn-outline-success">Güncelle</a></td>

	                            </tr>
	                            sayac++;
                            }

                        </tbody>
                    </table>
                    
                </div>
            </div>
        </div>
    </div>
}

